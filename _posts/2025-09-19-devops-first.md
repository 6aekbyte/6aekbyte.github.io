---
title: 컨테이너 오케스트레이션
date: 2025-09-19
categories:
  - devops
tags:
  - devops
---
### 컨테이너 오케스트레이션 기본 개념과 용어에 대해 설명합니다.
> 컨테이너 오케스트레이션이란 분산환경에서 대규모 어플리케이션을 배포할 수 있도록 컨테이너의 네트워킹 및 관리를 자동화하는 프로세스입니다.

<!-- more -->


## 도커의 문제점
### 배포
- 모든 서버에 직접 접속해서 docker run/stop을 실행해야함
- 모니터링 시스템 구축 등을 통해서 유휴 자원을 관리하고, 컨테이너가 실행될 수 있는 리소스 관리 필요
- 새롭게 배포된 어플리케이션에 장애가 발생할 경우 신속하게 롤백에 대한 대처가 힘듦
### 서비스 검색
- 프록시 서버를 통해 내부의 서비스에 접근할 경우
- 부하 발생으로 인해 스케일 아웃이 필요할 경우 로드 밸런서 설정 등의 작업 필요
- MSA의 경우 이런 문제가 빈번함
### 서비스 노출
- 프록시 서버를 통해 내부의 서비스에 접근할 경우
- 새롭게 서비스가 추가될 때 마다 프록시 서버 설정 추가 필요
- 서비스 검색의 문제점과 유사
### 서비스 장애, 부하모니터링
- 장애가 발생한 컨테이너의 로그를 보고 재실행 작업 필요
- 예상치 못한 시간에 발생한 부하에 대한 대처가 늦을 수 있음
## 컨테이너 오케스트레이션
### 정의
- 복잡한 컨테이너 환경을 효과적으로 관리하기 위한 도구
- 서버 관리자의 역할을 대신할 프로그램을 만드는 도구
### 특징
#### 클러스터(Cluster)
- 중앙제어
    - 기존에는 서버관리자가 각 서버의 스펙, 리소스상태, 어플리케이션 구동 등을 체크
    - 관리해야 하는 컨테이너가 많아지면서 물리적인 관리보다는 추상화된 클러스터로 관리
    - 클러스터 관리를 위한 마스터노드를 두고 마스터노드가 클러스터에 명령을 내리는 방식
    - 관리자는 마스터노드를 관리하는 것만으로 클러스를 관리할 수 있어야함
- 네트워킹
    - 클러스터내에서는 가상 네트워킹 등을 통해 노드 간에 네트워킹이 원활하게 이뤄져야함
- 노드스케일
    - 클러스터내에 컨테이너가 무한하게 증가되더라도 관리가 가능해야 함
#### 상태 관리(State)
- 원하는 상태를 설정하는 것만으로 별도의 명령 없이 해당 상태로 변경될 수 있어야함
    - 예) 컨테이너 수량을 바꾼다고 했을 때 이외의 명령 없이 수량이 바뀌어야 함
- 장애로 인해 상태가 변경된 경우 설정된 상태를 유지하기 위한 명령이 자동 실행되어야함
#### 배포관리(Scheduling)
- 유휴 리소스를 관리하여 새로운 컨테이너 생성 시 알맞은 서버에 배치 시킬 수 있어야함
- 추가 리소스가 필요한 경우 리소스를 할당하여 컨테이너를 배치 시킬 수 있어야함
#### 배포 버전관리(Rollout/Rollback)
- 배포 시 개별 배포가 아닌 중앙에서 자동 배포가 될 수 있어야함
- 롤백의 경우에도 중앙에서 관리하여 일괄적으로 롤백이 진행될 수 있어야함
#### 서비스 등록 및 조회(Service Discovery)
- 새로운 서비스가 추가 된 경우 자동으로 해당 서비스에 대한 설정이 추가되어야함
- 프록시 서버는 설정 저장소를 바라보며 설정이 변경된 경우 프로세스 재시작을 통해 새 설정을 반영해야함
#### 볼륨 스토리지(Volume)
- 각 컨테이너 별 볼륨관리를 추상적인 레벨에서 손쉽게 관리할 수 있어야함
### 컨테이너 오케스트레이션의 구현체
- 종류
  - DEIS, RANCHER, MESOS, MARATHON, Nomad, Docker SWARM, Kubernetes
- 다양한 컨테이너 오케스트레이션 도구들이 존재하는데, 그 중 Kubernates가 표준화처럼 사용됨
